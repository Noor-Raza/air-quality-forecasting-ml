<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Air Quality Prediction</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script>
        async function fetchPrediction() {
            const day = document.getElementById('day').value;
            const month = document.getElementById('month').value;
            const year = document.getElementById('year').value;

            const response = await fetch('/predict', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ day, month, year })
            });

            const result = await response.json();

            // Update the output sections dynamically
            document.getElementById('result').innerText = result.prediction || result.error;
            document.getElementById('recommended-behavior').innerText = result.behavior || 'No recommendation available.';
            document.getElementById('pollution-scale').innerText = result.scale || 'No scale available.';
        }
    </script>
</head>
<body>
    <div class="container"> <!-- Container for the entire content -->
        <!-- Header Section -->
        <header>
            <h1>Air Quality Prediction Tool</h1>
        </header>

        <!-- Barcelona Picture Section -->
        <section id="barcelona-picture">
            <img src="{{ url_for('static', filename='barcelona.jpg') }}" alt="Barcelona" id="barcelona-image">
        </section>

        <!-- Application Description -->
        <section id="app-description">
            <p>Welcome to the Air Quality Prediction application! This tool allows you to forecast the air quality for any given date in Barcelona, based on historical data and advanced predictive algorithms. Enter a date below:</p>
        </section>

        <!-- Input Section -->
        <main>
            <section id="input-section">
                <form onsubmit="event.preventDefault(); fetchPrediction();">
                    <label for="day">Day:</label>
                    <input type="number" id="day" required><br><br>
                    <label for="month">Month:</label>
                    <input type="number" id="month" required><br><br>
                    <label for="year">Year:</label>
                    <input type="number" id="year" required><br><br>
                    <button type="submit">Predict</button>
                </form>
            </section>
        </main>

        <!-- Results Section -->
        <section class="results">
            <h2>Results:</h2>
            <p id="result"></p>
        </section>

        <!-- Footer -->
        <footer>
            <p>&copy; 2024 Air Quality Project | Powered by Flask</p>
        </footer>
    </div> <!-- End of container -->
</body>
</html>

